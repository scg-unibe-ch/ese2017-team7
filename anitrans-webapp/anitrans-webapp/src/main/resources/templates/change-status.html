<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link rel="stylesheet" type="text/css" href="css/styles.css" />
    <title>aniTrans | Change Status</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>

<div id='container'>
            <div id='header'> 
                <img src="images/AniTransHeader.png" alt="header" id='header_img' />
                <ul id='nav'>
                    <li class='nav_element1'><a href="index.html">Home</a></li>
                    <div sec:authorize="hasRole('ROLE_ADMIN')"><li class='nav_element2'><a href="orders" >Orders</a></li></div>
                    <div sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER')"><li class='nav_element2'><a href="tours.html" class="active">Tours</a></li></div>
                    <div sec:authorize="hasRole('ROLE_ADMIN')"><li class='nav_element4'><a href="drivers.html">Drivers</a></li></div>
                    <div sec:authorize="hasRole('ROLE_ADMIN')"><li class='nav_element4'><a href="vehicles.html">Vehicles</a></li></div>
                    <li class='nav_element3'><a href="login.html">Account</a></li>
                    <div sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER')"><li class='nav_element3'>
                    		<form th:action="@{/logout}" method="post">
            					<button class='b1'>Sign Out</button>
        					</form> </li></div>
                </ul>
            </div>
    
<div class="ex0">
<h1><img src="images/logo.png" width="45" height="40" alt="logo" id="logo" />Change Status</h1>
</div>      
             
<div class="ex0">
    <form action="#" th:action="@{/change-status}" th:object="${order}" method="post" id="statusOrder">
    	<div th:if="${#fields.hasErrors('*')}">
                <h3>Please fix the following error(s)</h3>
        </div>
        
 <div class="ex9">        
    	<p>Order Number: <input type="text" th:value="${order.orderId}" th:field="*{orderId}" th:readonly="readonly"/></p>
 </div>
 
 <div class="ex9">        
        <p>From: </p>
        <p>Name: <input type="text" th:value="${order.fromName}" th:field="*{fromName}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('fromName')}" th:errors="*{fromName}">From Name Error</p>
        <p>Address: <input type="text" th:value="${order.fromStreet}" th:field="*{fromStreet}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('fromStreet')}" th:errors="*{fromStreet}">From Street Error</p>
        <p>PLZ / Town: <input type="text" th:value="${order.fromPlz}" th:field="*{fromPlz}" th:readonly="readonly"/><input type="text" th:value="${order.fromTown}" th:field="*{fromTown}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('fromPlz')}" th:errors="*{fromPlz}">From PLZ Error</p>
        <p th:if="${#fields.hasErrors('fromTown')}" th:errors="*{fromTown}">From Town Error</p>
</div>

<div class="ex9"> 
        <p>To: </p>
        <p>Name: <input type="text" th:value="${order.toName}" th:field="*{toName}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('toName')}" th:errors="*{toName}">To Name Error</p>
        <p>Address: <input type="text" th:value="${order.toStreet}" th:field="*{toStreet}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('toStreet')}" th:errors="*{toStreet}">To Street Error</p>
        <p>PLZ / Town: <input type="text" th:value="${order.toPlz}" th:field="*{toPlz}" th:readonly="readonly"/><input type="text" th:value="${order.toTown}" th:field="*{toTown}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('toPlz')}" th:errors="*{toPlz}">To PLZ Error</p>
        <p th:if="${#fields.hasErrors('toTown')}" th:errors="*{toTown}">To Town Error</p>
</div>

<div class="ex9">         
        <p>Until: <input type="text" th:value="${#dates.format(order.until, 'dd.MM.yyyy')}"  th:field="*{until}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('until')}" th:errors="*{until}">Until Error</p>
        <p>Timeframe: <input type="text" th:value="${order.timeframe}" th:field="*{timeframe}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('timeframe')}" th:errors="*{timeframe}">Timeframe Error</p>
        <p>Type of Animal: <input type="text" th:value="${order.typeOfAnimal}" th:field="*{typeOfAnimal}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('typeOfAnimal')}" th:errors="*{typeOfAnimal}">Type of Animal Error</p>
        <p>Number of Animals: <input type="text" th:value="${order.numberOfAnimals}" th:field="*{numberOfAnimals}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('numberOfAnimals')}" th:errors="*{numberOfAnimals}">Number of Animals Error</p>
        <p>Time Estimation (in hrs): <input type="text" th:value="${order.timeEstimation}" th:field="*{timeEstimation}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('timeEstimation')}" th:errors="*{timeEstimation}">Time Estimation Error</p>
        <p>Start Time: <input type="text" th:value="${#dates.format(order.startTime, 'dd.MM.yyyy, HH:mm')}" th:field="*{startTime}" th:readonly="readonly"/></p>
        <p th:if="${#fields.hasErrors('startTime')}" th:errors="*{startTime}">Start Time Error</p>
        <p>Driver: <input type="text" th:value="${order.driver}" th:field="*{driver}"  th:readonly="readonly" /></p>
        <p th:if="${#fields.hasErrors('driver')}" th:errors="*{driver}">Driver Error</p>
        <p>Vehicle: <input type="text" th:value="${order.vehicle}" th:field="*{vehicle}"  th:readonly="readonly" /></p>
        <p th:if="${#fields.hasErrors('vehicle')}" th:errors="*{vehicle}">Vehicle Error</p>
</div>   		
    		
<div class="ex9">     		
    		<p>Status: <select th:field="*{orderStatus}" th:value="${order.orderStatus}">
        		<option
         		 th:value="undelivered"
         		 th:text="undelivered">Status</option>
  			<option
         		 th:value="delivered"
         		 th:text="delivered">Status</option>
		</select></p>
    		
        <p>Message: <textarea name="message" form="statusOrder" th:value="${order.statusMessage}" th:field="*{statusMessage}" /></p>
</div>       
        <label><button class='b5'>Submit</button></label>
    </form>
    </div>
    </div>
</body>
</html>